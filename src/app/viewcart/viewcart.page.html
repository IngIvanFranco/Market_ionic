<ion-header [translucent]="true">
  <ion-toolbar color="secondary" >
    <ion-buttons slot="start">
      <ion-menu-button ></ion-menu-button>
    </ion-buttons>

    <ion-item >
     <ion-input placeholder="Cual es tu sueÃ±o..."  color="secondary" type="text" [(ngModel)]="q" ></ion-input>
     <ion-button color="secondary"  (click)="search()" ><ion-icon name="search-outline" ></ion-icon></ion-button>
    </ion-item>
     
    
    <ion-buttons slot="end">
      <ion-icon name="cart-outline" class="icon"></ion-icon>
      
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content  *ngIf="cart.length > 0; else nothing">


  <ion-title class="titletotalcart">
    Carrito de compras
  </ion-title>
  <div class="contbtn" *ngIf="cart.length > 2">
    <ion-button color="success" routerLink="/checkout" >   <ion-icon name="card-outline"></ion-icon> Comprar </ion-button>
  </div>

  <ion-card *ngFor="let c of cart; let i = index">
    <ion-item>
      <ion-avatar slot="start">
        <ion-img src="https://invercomes.com.co/assets/img/products/product/{{c.id}}.jpg" ></ion-img>
      </ion-avatar>
      <ion-label>{{c.name}}</ion-label>
      <ion-button  slot="end" color="danger" (click)="eliminaritem(i)"><ion-icon name="close-circle-outline"></ion-icon></ion-button>
    </ion-item>
  
    <ion-card-content>
      <ion-item>
        
        <ion-label>Precio $ {{(c.price * c.qty) | number}}</ion-label>
      </ion-item>
      <ion-item>
        <ion-button slot="start" (click)='menos(i,c.qty)'>
          <ion-icon name="remove-outline"  ></ion-icon>
        </ion-button>
        
        <ion-label><strong>Cantidad: </strong> {{c.qty | number}}</ion-label>

        <ion-button slot="end" (click)='mas(i,c.qty)'>
          <ion-icon name="add-outline" ></ion-icon>
        </ion-button>
       
     
       
      </ion-item>
    
    </ion-card-content>
  </ion-card>

  <ion-title class="titletotalcart">
    valor total: ${{vlrtotal | number}}
  </ion-title>

  <div class="contbtn">
  <ion-button color="success" routerLink="/checkout">  <ion-icon name="card-outline"></ion-icon> Comprar</ion-button>
</div>
</ion-content>


<ng-template #nothing><ion-content>
  <ion-img src="https://invercomes.com.co/assets//img/payment-method/banner.jpg"></ion-img>
  <ion-title>Carrito sin productos</ion-title>
</ion-content></ng-template>
